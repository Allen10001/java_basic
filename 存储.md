# 存储

## 块存储、文件存储、对象存储这三者的本质差别是什么？

https://www.zhihu.com/question/21536660/answer/393094422

>作者：刘洋
>链接：https://www.zhihu.com/question/21536660/answer/393094422
>来源：知乎
>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
>
>**块存储**
>
>![img](存储.assets/v2-f359dd921a4b296e6e5c5216587d8b59_720w.jpg)
>
>块存储一般体现形式是卷或者硬盘（比如windows里面看到的c盘），数据是按字节来访问的，对于块存储而言，对里面存的数据内容和格式是完全一无所知的。好比上面图中，数据就像玉米粒一样堆放在块存储里，块存储只关心玉米粒进来和出去，不关心玉米粒之间的关系和用途。
>
>**块存储只负责数据读取和写入，因此性能很高，适用于对响应时间要求高的系统。比如数据库等。**
>
>**文件存储**
>
>![image-20220325201808835](存储.assets/image-20220325201808835.png)
>
>文件存储一般**体现形式是目录和文件**（比如C:\Users\Downloads\text.doc），数据以文件的方式存储和访问，按照目录结构进行组织。**文件存储可以对数据进行一定的高级管理**，比如在文件层面进行[访问权限控制](https://www.zhihu.com/search?q=访问权限控制&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A393094422})等。好比上面图中，数据像玉米粒一样组成玉米棒子，再对应到不同的玉米杆上，要找到某个玉米粒，先找到玉米杆，再找到玉米棒子，然后根据玉米粒在玉米棒子上的位置找到它。
>
>**文件存储可以很方便的共享，因此用途非常广泛。比如常用的NFS、CIFS、ftp等都是基于文件存储的。**
>
>**[对象存储](https://www.zhihu.com/search?q=对象存储&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A393094422})**
>
>![img](存储.assets/v2-3675fbd0824c938a022a5424e17d92e2_720w.jpg)
>
>对象存储一般体现形式是一个UUID（比如[https://www.youtube.com/watch?v=nAKxJbcec8U](https://link.zhihu.com/?target=https%3A//www.youtube.com/watch%3Fv%3DnAKxJbcec8U)），**数据和元数据打包在一起作为一个整体对象存在一个超大池子里。对于对象访问，只需要报出它的UUID，就能立即找到它，但访问的时候对象是作为一个整体访问的。好比上面图中，数据的玉米粒被做成了玉米罐头，每个玉米罐头都有一个唯一出厂号，但是买卖罐头，都一次是一盒为单位。**  
>
>从设计之初衷（一般的对象存储都是基于哈希环之类的技术来实现），对象存储就可以非常简单的扩展到超大规模，因此非常适合数据量大、增速又很快的视频、图像等。

## 对象存储有什么优势？

https://www.zhihu.com/question/432864591

>作者：知乎用户
>链接：https://www.zhihu.com/question/432864591/answer/1607716021
>来源：知乎
>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
>
>其实块、文件、对象三种存储各有优劣势，没有谁比谁更先进一说，只有谁适用于某场景一说。
>
>先说对象存储吧。对象存储是指用一个对象ID对应一段数据。这个对象ID可以是一个URL，也可以是其它什么字符串，总之必须唯一。对应的这段数据，小则1个字节（当然这么小很不科学），大则几个G甚至更大（取决于对象存储产品的实际配置），但**不支持修改操作。也就是说，你不能像修改文件那样仅把其中的某一小段数据进行修改，或者在文件中间插入或者删除一段数据。若要进行任何修改，只能把该对象对应的所有数据全部重新写入。**
>
>这么设计的好处就是简化了对象ID到对象数据之间的映射关系（索引）。比如说，你需要维护对象ID到数据起始位置之间的映射关系即可，而不像文件那样需要考虑因修改、插入、删除文件中的某一小段数据而造成的复杂映射关系。正因为**映射关系简单**了，**同样规模的索引可以指向更大的数据规模，从而给人一种对象存储能存储更多数据的感觉。**其实，不是因为对象存储所采用的技术多么高明，而是因为它把很多制约其扩展性的功能都去掉了。可以这么说，**对象存储就是一个功能简化版的文件存储，它没有文件内容修改、文件锁、配额、用户/组属性、目录树等等。**
>
>因为**非结构化数据规模大，且不需要修改，特别符合对象存储的设计目标，所以对象存储比较适合存储非结构化数据。**又因为互联网应用涉及的非结构化数据比较多，因此最早大规模使用对象存储的就是互联网公司。例如，AWS S3起初就是给它自己的Amazon购物门户而研发的。

>作者：知乎用户
>链接：https://www.zhihu.com/question/432864591/answer/2301006016
>来源：知乎
>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
>
>**由于提供的 API （基于bucket的访问控制和基于key的增删改查）很简单，也没有事务等劳什子的拖后腿。对象存储可以做到相对便宜，且扩展性超级强，同时还能维持不错的读写带宽。**
>
>**因此，现在基本成了云原生存储的事实标准。也成了存储计算分离型云原生数据库的一般后端。**

>作者：新爷话数据
>链接：https://www.zhihu.com/question/432864591/answer/2263913918
>来源：知乎
>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
>
>其实说到对象存储的优势。首先要说一下，其实存储的形式，现在是对象、文件、块三个方式来保存、整理和呈现数据。
>
>那么，对象存储是什么呢？
>
>对象存储，也称为基于对象的存储，是一种扁平结构，其中的文件被拆分成多个部分并散布在多个硬件间。在对象存储中，数据会被分解为称为“对象”的离散单元，并保存在单个存储库中，而不是作为文件夹中的文件或服务器上的块来保存。
>
>对象存储卷会作为模块化单元来工作:**每个卷都是一个自包含式存储库，均含有数据、允许在分布式系统上找到对象的唯一标识符以及描述数据的元数据。**元数据很重要，对象存储元数据可以非常详细，并且能够存储与视频拍摄地点、所用相机和各个帧中特写的演员有关的信息。为了检索数据，存储操作系统会使用元数据和标识符，这样可以更好地分配负载，并允许管理员应用策略来 执行更强大的搜索。
>
>对象存储需要一个HTTP应用编程接口 (API)，以供大多数客户端(各种语言)使用。对象存储经济高效，可以轻松扩展，因而是公共云存储的理想之选。它是一个非常适用于静态数据的存储系统，其灵活性和扁平性意味着它可以通过扩展来存储极大量的数据。对象具有足够的信息供应用快速查找数 据，并且擅长存储非结构化数据。
>
>当然，它也存在缺点。无法修改对象 — 您必须一次性完整地写入对象。对象存储也不能很好地与传统数据库搭配使用，因为编写对象是一个缓慢的过程，编写应用以使用对象存储API并不像使用文件存储那么简单。

